flowchart TD
    subgraph "Input Sources"
        A1[Audio File Path]
        A2[BytesIO Object]
        A3[Audio Bytes]
    end
    
    subgraph "Core Library" 
        B1[AudioTranscriber]
        B2[TextAligner]
        B3[AudioProcessor]
    end
    
    subgraph "External Services"
        C1[Google Gemini API]
        C2[Stable Whisper Model]
    end
    
    subgraph "Output Processing" 
        D1[Transcription Results]
        D2[Alignment Results]
        D3[Combined Results]
    end
    
    subgraph "Demo UI"
        E1[Upload Interface]
        E2[Processing Controls]
        E3[Results Display]
        E4[Export Options]
        E5[Cache System]
    end
    
    A1 --> B3
    A2 --> B3
    A3 --> B3
    
    B3 --> B1
    B3 --> B2
    B1 --> C1
    B2 --> C2
    
    C1 --> D1
    C2 --> D2
    D1 --> D3
    D2 --> D3
    
    E1 -->|File Upload| A2
    B3 --> D3
    D3 --> E3
    E3 --> E4
    E5 -.->|Cache Results| D3
    E2 -->|Control Processing| B3
